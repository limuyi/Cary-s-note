# 如何计算子网掩码，网络地址，广播地址

## ip地址
ipv4地址为32位，一般在表示时会把32位的ip地址8个一组转化为10进制中间用"."分隔

## 斜线记法
ip/n这种记法为斜线记法

n是网络前缀，表示前n位为网络位

## 子网掩码
ip地址网络位全部置1，主机位全部置0即为子网掩码

## 广播地址
网络位不动，主机位全部置1即为广播地址

## 网络地址
网络位不动，主机位全部置0即为网络地址

## 主机数
主机数=2^(32-n)-2

主机数=2^主机位-2

主机位0和1全排列减去广播地址和网络地址所占用的ip

## 举例
### 例1
> 知道一个iP地址10.158.79.53，子网掩码位255.255.248.0，这里面网络位，主机位是多少？主机数是多少？网络地址和广播地址是多少？

1. 先求网络位主机位


    子网掩码决定网络位和主机位的个数，
    把子网掩码转换为二进制得11111111.11111111.11111000.00000000
    子网掩码连续的1即为网络位，0为主机位

网络位：21

主机位：32-21=11

2. 求主机数

主机数=2^11-2

3. 求网络地址和主机地址

分析ip地址10.158.79.53,转化后得10.158.01001xxx.xxxxxxxx

    10.158占据16位一定在网络位所以不动不需要转化
    79部分位是网络位部分为是主机位，转化为二进制为01001111(前面补0凑成8位)
    前5位属于网络位所以不动不需要转化(21-16=5)
    主机位用x替换

广播地址：10.158.79.255

    网络位不动，主机位全部置1
    10.158.01001xxx.xxxxxxxx
    10.158.01001111.11111111
    转化为10进制10.158.79.255

网络地址：10.158.72.0

    网络位不动，主机位x全部置0
    10.158.01001xxx.xxxxxxxx
    10.158.01001000.00000000
    转化为10进制10.158.79.255
    
### 例2

> 一个iP地址10.117.205.113/27，计算网络位，主机位，主机数，子网掩码，网络地址和广播地址

1. 求网络位主机位

网络位：27

主机位：32-27=5

2. 求主机数

主机数：2^5-2

3. 求子网掩码


    ip地址网络位全部置1，主机位全部置0即为子网掩码
    11111111.11111111.11111111.11100000
    转化为10进制255.255.255.224
    
子网掩码：255.255.255.224

4. 求网络地址和主机地址

分析ip地址10.117.205.113,转化后得10.117.205.011xxxxx

    10.117.205占据24位一定在网络位所以不动不需要转化
    224部分位是网络位部分为是主机位，转化为二进制为01110001(前面补0凑成8位)
    前3位属于网络位所以不动不需要转化(27-24=3)
    主机位用x替换

广播地址：10.117.205.127

    网络位不动，主机位全部置1
    10.117.205.011xxxxx
    10.117.205.01111111
    转化为10进制10.117.205.127

网络地址：10.117.205.96

    网络位不动，主机位x全部置0
    10.117.205.011xxxxx
    10.117.205.01100000
    转化为10进制10.117.205.96
